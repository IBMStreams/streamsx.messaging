<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="MQTT element"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_page"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>MQTT element</title>
</head>
<body id="spldoc_page">


<h1 class="title topictitle1">MQTT element</h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">IBMStreams com.ibm.streamsx.messaging Toolkit</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.messaging.html">com.ibm.streamsx.messaging 5.0.0</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.messaging$2.html">Connection specifications document</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.messaging$3.html">Connection_specification element</a> &gt; MQTT element</p>

</div>


<div class="section">
<p class="p">The &lt;MQTT&gt; element specifies the information that is needed by the <tt class="ph tt">MQTTSink</tt> and <tt class="ph tt">MQTTSource</tt> operators to establish a connection with MQTT-based messaging systems.
</p>

<p class="p">The following example shows a &lt;connection_specification&gt; element that contains an &lt;MQTT&gt; element:
</p>

<div class="p">
<pre class="pre codeblock">
&lt;connection_specifications&gt;
  &lt;connection_specification name="mqttconn"&gt;
    &lt;MQTT serverURI="ssl://hostname:1883" trustStore="../../etc/trustFile.pem"/&gt;
  &lt;/connection_specification&gt;
&lt;/connection_specifications&gt;
</pre>


</div>

<div class="p">The &lt;MQTT&gt; element has the following attributes:
<ul class="ul">
<li class="li"> keyStorePassword
<ul class="ul">
<li class="li"> This optional attribute specifies the password for the keystore file.     This attribute is specified when the keyStore attribute is specified and the keystore file it is protected by a password.     If the keyStorePassword is invalid the operator terminates.</li>

</ul>
</li>

<li class="li"> keyStore
<ul class="ul">
<li class="li"> This optional attribute specifies the name of the keystore file, which is in PEM format.     The keystore file must contain the public certificate and the private key of the MQTT server that you want to connect to.     If the keystore file does not exist, the operator terminates. The location of the keystore file can be absolute path     or a path that is relative to the data directory.</li>

</ul>
</li>

<li class="li"> serverURI
<ul class="ul">
<li class="li"> This required attribute specifies the URI of the MQTT server that you want to connect to.     The serverURI has the following format: <em class="ph i">protocol</em>://<em class="ph i">hostname</em> or <em class="ph i">IP address</em>:<em class="ph i">portnumber</em></li>

<li class="li"> The supported protocols are SSL and TCP.      By default, the protocol is set to <tt class="ph tt">tcp</tt>, and the operators use the TCP protocol to connect to an MQTT server.</li>

<li class="li"> To use SSL authentication, set the protocol to ssl.     You must also specify a value for the following attributes based on the type of SSL authentication:
<ul class="ul">
<li class="li"> For client SSL authentication, if a password is set for the keystore,       set the keyStore and keyStorePassword attributes in the MQTT element.</li>

<li class="li"> For server SSL authentication, set the trustStore attribute in the MQTT element.</li>

<li class="li"> For mutual SSL authentication, if a password is set for the keystore, set the trustStore, keyStore,       and keyStorePassword attributes in the MQTT element.</li>

</ul>
</li>

<li class="li"> If you do not set the appropriate attributes, a run time error occurs. </li>

</ul>
</li>

<li class="li"> trustStore
<ul class="ul">
<li class="li"> This optional attribute specifies the name of the truststore file, which is in PEM format.     You can specify an absolute path or a path that is relative to the data directory.     The operator supports PEM files that use base64 encoding.     The truststore file must contain the public certificates of all the trusted MQTT servers.     If the truststore does not contain a public certificate for an MQTT server, the connection to that server is terminated.</li>

</ul>
</li>

</ul>

</div>

</div>

</div>


</body>
</html>